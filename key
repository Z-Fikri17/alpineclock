name: Weather Fetcher

on: [push]

jobs:
  fetch-weather:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Run weather fetch script
        env:
          RAPIDAPI_KEY: ${{ secrets.RAPIDAPI_KEY }}
        run: |
          echo "Fetching weather..."
          curl -H "x-rapidapi-key: $RAPIDAPI_KEY" \
               -H "x-rapidapi-host: weatherapi-com.p.rapidapi.com" \
               "https://weatherapi-com.p.rapidapi.com/current.json?q=Kuala Lumpur"
